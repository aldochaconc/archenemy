#
# Vim-Inspired Navigation Bindings
# https://wiki.hyprland.org/Configuring/Binds/
#
# Vim-like keybindings for window management with arrow key fallbacks.
# Follows vim's modal philosophy: hjkl for navigation, modifiers for actions.
#

# ============================================================================
# VIM PHILOSOPHY
# ============================================================================
# In vim:
#   h, j, k, l     = Move cursor left, down, up, right
#   ^W h/j/k/l     = Navigate between splits
#   ^W w           = Cycle to next window
#   ^W o           = Focus only this window
#   /              = Search
#   :              = Enter command mode
#   :q             = Quit/close
#
# In Hyprland (mapped equivalents):
#   SUPER + hjkl   = Move focus between windows
#   SUPER + w      = Close window (like :q)
#   SUPER + o      = Focus this window, unfocus others
#   SUPER + /      = Search (app launcher)
#   SUPER + :      = Command mode (launcher with commands)
#   SUPER + t      = Toggle split (like ^W r for rotate)

# ============================================================================
# BIND TYPES
# ============================================================================
# bind:  Standard key binding
# bindm: Mouse button binding
# bindl: Locked (works even when locked/idle)
# binde: Repeats when held
# bindr: On key release
#
# Format: bind = MODIFIERS, KEY, ACTION, [PARAMS]

# ============================================================================
# FOCUS MOVEMENT (VIM PRIMARY)
# ============================================================================
# Move focus between windows using vim hjkl keys
#   - h: Left (vim motion)
#   - j: Down (vim motion)
#   - k: Up (vim motion)
#   - l: Right (vim motion)

bind = SUPER, h, movefocus, l
bind = SUPER, j, movefocus, d
bind = SUPER, k, movefocus, u
bind = SUPER, l, movefocus, r

# ============================================================================
# FOCUS MOVEMENT (ARROW FALLBACK)
# ============================================================================
# Same actions with arrow keys for users less familiar with vim

bind = SUPER, LEFT, movefocus, l
bind = SUPER, DOWN, movefocus, d
bind = SUPER, UP, movefocus, u
bind = SUPER, RIGHT, movefocus, r

# ============================================================================
# WINDOW SWAPPING (VIM PRIMARY)
# ============================================================================
# Swap active window with adjacent window (vim ^W H/J/K/L equivalent)
#   - Like vim's ^W + SHIFT + hjkl to move window position
#   - SUPER + SHIFT + hjkl: Swap in direction

bind = SUPER SHIFT, h, swapwindow, l
bind = SUPER SHIFT, j, swapwindow, d
bind = SUPER SHIFT, k, swapwindow, u
bind = SUPER SHIFT, l, swapwindow, r

# ============================================================================
# WINDOW SWAPPING (ARROW FALLBACK)
# ============================================================================

bind = SUPER SHIFT, LEFT, swapwindow, l
bind = SUPER SHIFT, DOWN, swapwindow, d
bind = SUPER SHIFT, UP, swapwindow, u
bind = SUPER SHIFT, RIGHT, swapwindow, r

# ============================================================================
# WINDOW RESIZING (VIM PRIMARY)
# ============================================================================
# Resize active window using vim keys + CTRL
#   - Like vim's ^W + </>/+/- for resizing splits
#   - SUPER + CTRL + hjkl: Resize in direction
#   - Negative values shrink, positive values expand

bind = SUPER CTRL, h, resizeactive, -20 0
bind = SUPER CTRL, l, resizeactive, 20 0
bind = SUPER CTRL, j, resizeactive, 0 20
bind = SUPER CTRL, k, resizeactive, 0 -20

# ============================================================================
# WINDOW RESIZING (ARROW FALLBACK)
# ============================================================================

bind = SUPER CTRL, LEFT, resizeactive, -20 0
bind = SUPER CTRL, RIGHT, resizeactive, 20 0
bind = SUPER CTRL, DOWN, resizeactive, 0 20
bind = SUPER CTRL, UP, resizeactive, 0 -20

# Alternative: Fine-grained resizing (1px at a time)
#   - Uncomment for precise window sizing control
# bind = SUPER ALT, h, resizeactive, -1 0
# bind = SUPER ALT, l, resizeactive, 1 0
# bind = SUPER ALT, j, resizeactive, 0 1
# bind = SUPER ALT, k, resizeactive, 0 -1

# ============================================================================
# CLOSE WINDOW (VIM :q)
# ============================================================================
# Close the active window
#   - SUPER + w: Close window (vim :q equivalent)
#   - SUPER + q: Alternative close binding (kept for compatibility)

bind = SUPER, w, killactive,
bind = SUPER, q, killactive,

# Force close all windows (vim :qa! equivalent)
#   - CTRL + ALT + DELETE: Close all windows on current workspace
# bind = CTRL ALT, DELETE, exec, hyprctl clients -j | jq -r '.[] | select(.workspace.id == '$(hyprctl activeworkspace -j | jq '.id')') | .address' | xargs -I {} hyprctl dispatch closewindow address:{}

# ============================================================================
# FOCUS OTHER SPLIT (VIM ^W o)
# ============================================================================
# Cycle focus or toggle between splits
#   - SUPER + o: Toggle focus to "other" window (vim ^W o equivalent)
#   - In vim, ^W o closes all other windows; here it cycles focus

bind = SUPER, o, cyclenext,

# Alternative: Focus previous window
bind = SUPER SHIFT, o, cyclenext, prev

# ============================================================================
# SEARCH (VIM /)
# ============================================================================
# Launch application search/launcher
#   - SUPER + /: Open launcher (vim search equivalent)
#   - SUPER + SPACE: Alternative launcher binding

bind = SUPER, SLASH, exec, ~/.config/hypr/bindings/system.sh launch_walker
bind = SUPER, SPACE, exec, ~/.config/hypr/bindings/system.sh launch_walker

# Search in applications
#   - SUPER + SHIFT + /: Open launcher in search mode
# bind = SUPER SHIFT, SLASH, exec, uwsm-app -- $launcher --mode search

# ============================================================================
# COMMAND MODE (VIM :)
# ============================================================================
# Command palette / runner
#   - SUPER + :: Run command (vim command mode equivalent)
#   - Opens launcher in command/run mode

# Note: Direct ":" binding is tricky, using alternative
# If you have a custom command runner, bind it here
# bind = SUPER, SEMICOLON, exec, uwsm-app -- $launcher --mode run

# Alternative: Use SUPER + R for "run" (ranger, rofi, etc.)
bind = SUPER, r, exec, ~/.config/hypr/bindings/system.sh launch_walker

# ============================================================================
# TOGGLE SPLIT (VIM ^W r)
# ============================================================================
# Toggle split direction in dwindle layout
#   - SUPER + t: Toggle split (vim ^W r to rotate windows)
#   - Changes whether next window splits horizontally or vertically

bind = SUPER, t, togglesplit,

# ============================================================================
# WINDOW CYCLING (VIM ^W w)
# ============================================================================
# Cycle through windows
#   - SUPER + TAB: Next window (vim ^W w equivalent)
#   - SUPER + SHIFT + TAB: Previous window

# Note: These are workspace cycling, window cycling is in tiling.conf
# bind = SUPER, TAB, cyclenext,
# bind = SUPER SHIFT, TAB, cyclenext, prev

# ============================================================================
# CENTER WINDOW (VIM zz)
# ============================================================================
# Center the active window (when floating)
#   - SUPER + z: Center window on screen (vim zz to center cursor)
#   - Only affects floating windows

bind = SUPER, z, centerwindow,

# ============================================================================
# MAXIMIZE WINDOW (VIM ^W _)
# ============================================================================
# Maximize or fullscreen window
#   - SUPER + m: Maximize window (vim ^W _ makes window full height)
#   - Different fullscreen modes available

# Standard fullscreen (no gaps, no bar)
bind = SUPER, m, fullscreen, 0

# Alternative: Maximize (keep gaps and bar)
# bind = SUPER, m, fullscreen, 1

# ============================================================================
# VIM-STYLE MARKS & JUMPS
# ============================================================================
# Navigate between workspaces like vim marks
#   - SUPER + m + [1-9]: "Mark" current workspace (just switch to it)
#   - SUPER + ' + [1-9]: "Jump" to workspace (same as switching)
#
# These are handled in tiling.conf with workspace bindings
# but the conceptual mapping is:
#   workspace switch = vim mark jump (')
#   movetoworkspace = vim mark set (m)

# ============================================================================
# VISUAL MODE EQUIVALENT
# ============================================================================
# Toggle floating (like vim visual mode for window selection)
#   - SUPER + v: Toggle floating (vim v for visual mode)
#   - Floating windows can be moved freely

bind = SUPER, v, togglefloating,

# Pin window (show on all workspaces, like vim's persistent undo)
#   - SUPER + p: Pin window across workspaces
bind = SUPER, p, pin,

# Alternative: Pseudo-tile (floating but respects tiling)
# bind = SUPER, p, pseudo,

# ============================================================================
# ADDITIONAL VIM-INSPIRED BINDINGS
# ============================================================================

# Undo/Redo workspace changes (vim u / ^R)
#   - SUPER + u: Go to previous workspace (vim undo equivalent)
#   - SUPER + CTRL + r: Go to next workspace (vim redo equivalent)
# These are handled in tiling.conf as workspace navigation

# Yank/Paste (Copy/Paste window to different workspace)
#   - Conceptual only, handled by movetoworkspace in tiling.conf

# Increment/Decrement (resize window)
#   - SUPER + a: Decrease window size (vim ^A decrement)
#   - SUPER + x: Increase window size (vim ^X increment)
bind = SUPER, a, resizeactive, -40 -40
bind = SUPER, x, resizeactive, 40 40

# ============================================================================
# HELP & DOCUMENTATION
# ============================================================================
# Show keybinding help (vim :help)
#   - SUPER + ?: Show all keybindings
#   - SUPER + F1: Alternative help binding

bind = SUPER SHIFT, SLASH, exec, notify-send "Keybindings" "See ~/.config/hypr/bindings/ for all keybindings"
# bind = SUPER, F1, exec, ~/.config/hypr/bindings/system.sh show_keybindings
