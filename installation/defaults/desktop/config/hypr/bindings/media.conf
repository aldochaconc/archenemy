#
# Media Control Bindings
# https://wiki.hyprland.org/Configuring/Binds/
#
# Volume, brightness, media playback controls with OSD integration.
# Uses swayosd for visual feedback and playerctl for media control.
#

# ============================================================================
# BIND TYPES FOR MEDIA
# ============================================================================
# bindel: Repeating + works when locked (volume/brightness)
#   - "e" = repeat when held
#   - "l" = works even when screen is locked
#   - Perfect for volume and brightness keys
#
# bindl: Works when locked (media controls)
#   - Single press, no repeat
#   - Works when screen is locked
#   - Good for play/pause, next/prev track

# ============================================================================
# OSD CLIENT SETUP
# ============================================================================
# swayosd-client: Shows on-screen display for volume and brightness
#   - Monitors which monitor is currently focused
#   - Displays visual feedback for adjustments
#   - Config: ~/.config/swayosd/config.toml

$osdclient = swayosd-client --monitor "$(hyprctl monitors -j | jq -r '.[] | select(.focused == true).name')"

# Alternative: Simple OSD (shows on all monitors)
# $osdclient = swayosd-client

# ============================================================================
# VOLUME CONTROLS
# ============================================================================
# Laptop multimedia keys for audio volume
#   - Standard adjustment: 5% per press (swayosd default)
#   - Repeats when held down
#   - Works even when screen is locked

# Volume Up (XF86AudioRaiseVolume)
bindel = , XF86AudioRaiseVolume, exec, $osdclient --output-volume raise

# Volume Down (XF86AudioLowerVolume)
bindel = , XF86AudioLowerVolume, exec, $osdclient --output-volume lower

# Mute Toggle (XF86AudioMute)
bindel = , XF86AudioMute, exec, $osdclient --output-volume mute-toggle

# Microphone Mute Toggle (XF86AudioMicMute)
bindel = , XF86AudioMicMute, exec, $osdclient --input-volume mute-toggle

# ============================================================================
# PRECISE VOLUME CONTROL (1% increments)
# ============================================================================
# Fine-grained volume adjustment with ALT modifier
#   - Useful for precise volume setting
#   - ALT + Volume keys = 1% per press

# Precise Volume Up (ALT + XF86AudioRaiseVolume)
bindel = ALT, XF86AudioRaiseVolume, exec, $osdclient --output-volume +1

# Precise Volume Down (ALT + XF86AudioLowerVolume)
bindel = ALT, XF86AudioLowerVolume, exec, $osdclient --output-volume -1

# ============================================================================
# ALTERNATIVE VOLUME BINDINGS
# ============================================================================
# For keyboards without media keys or custom preferences

# Volume with Function keys (if needed)
# bindel = SUPER, F11, exec, $osdclient --output-volume lower
# bindel = SUPER, F12, exec, $osdclient --output-volume raise
# bindel = SUPER, F10, exec, $osdclient --output-volume mute-toggle

# Volume with symbols (for 60% keyboards)
# bindel = SUPER, minus, exec, $osdclient --output-volume lower
# bindel = SUPER, equal, exec, $osdclient --output-volume raise

# Set specific volume levels (quick access)
# bind = SUPER ALT, 0, exec, $osdclient --output-volume 0      # Mute
# bind = SUPER ALT, 5, exec, $osdclient --output-volume 50     # 50%
# bind = SUPER ALT, 7, exec, $osdclient --output-volume 75     # 75%
# bind = SUPER ALT, 9, exec, $osdclient --output-volume 100    # 100%

# ============================================================================
# BRIGHTNESS CONTROLS
# ============================================================================
# Laptop display brightness adjustment
#   - Standard adjustment: 5% per press (swayosd default)
#   - Repeats when held down
#   - Works even when screen is locked

# Brightness Up (XF86MonBrightnessUp)
bindel = , XF86MonBrightnessUp, exec, $osdclient --brightness raise

# Brightness Down (XF86MonBrightnessDown)
bindel = , XF86MonBrightnessDown, exec, $osdclient --brightness lower

# ============================================================================
# PRECISE BRIGHTNESS CONTROL (1% increments)
# ============================================================================
# Fine-grained brightness adjustment with ALT modifier

# Precise Brightness Up (ALT + XF86MonBrightnessUp)
bindel = ALT, XF86MonBrightnessUp, exec, $osdclient --brightness +1

# Precise Brightness Down (ALT + XF86MonBrightnessDown)
bindel = ALT, XF86MonBrightnessDown, exec, $osdclient --brightness -1

# ============================================================================
# ALTERNATIVE BRIGHTNESS BINDINGS
# ============================================================================

# Brightness with Function keys (if needed)
# bindel = SUPER, F1, exec, $osdclient --brightness lower
# bindel = SUPER, F2, exec, $osdclient --brightness raise

# Set specific brightness levels
# bind = SUPER CTRL, F1, exec, $osdclient --brightness 10      # 10% (very dim)
# bind = SUPER CTRL, F2, exec, $osdclient --brightness 50      # 50% (medium)
# bind = SUPER CTRL, F3, exec, $osdclient --brightness 100     # 100% (maximum)

# ============================================================================
# MEDIA PLAYBACK CONTROLS
# ============================================================================
# Control media players via playerctl (supports Spotify, VLC, mpv, Firefox, etc.)
#   - Works when screen is locked
#   - Single press (no repeat)
#   - OSD shows track info and player state

# Next Track (XF86AudioNext)
bindl = , XF86AudioNext, exec, $osdclient --playerctl next

# Play/Pause (XF86AudioPlay & XF86AudioPause)
bindl = , XF86AudioPlay, exec, $osdclient --playerctl play-pause
bindl = , XF86AudioPause, exec, $osdclient --playerctl play-pause

# Previous Track (XF86AudioPrev)
bindl = , XF86AudioPrev, exec, $osdclient --playerctl previous

# Stop Playback (XF86AudioStop)
bindl = , XF86AudioStop, exec, $osdclient --playerctl stop

# ============================================================================
# ALTERNATIVE MEDIA CONTROLS
# ============================================================================
# For keyboards without dedicated media keys

# Media controls with SUPER + Function keys
# bindl = SUPER, F7, exec, $osdclient --playerctl previous      # F7 = prev
# bindl = SUPER, F8, exec, $osdclient --playerctl play-pause    # F8 = play/pause
# bindl = SUPER, F9, exec, $osdclient --playerctl next          # F9 = next

# Media controls with vim-style navigation
# bindl = SUPER CTRL, comma, exec, $osdclient --playerctl previous
# bindl = SUPER CTRL, period, exec, $osdclient --playerctl next
# bindl = SUPER CTRL, slash, exec, $osdclient --playerctl play-pause

# ============================================================================
# ADVANCED PLAYERCTL CONTROLS
# ============================================================================
# Direct playerctl commands for advanced control

# Seek forward/backward (10 seconds)
# bindl = SUPER SHIFT, XF86AudioNext, exec, playerctl position 10+
# bindl = SUPER SHIFT, XF86AudioPrev, exec, playerctl position 10-

# Seek forward/backward (60 seconds)
# bindl = SUPER ALT, XF86AudioNext, exec, playerctl position 60+
# bindl = SUPER ALT, XF86AudioPrev, exec, playerctl position 60-

# Show current track info
# bind = SUPER CTRL, m, exec, notify-send "  Now Playing" "$(playerctl metadata --format '{{artist}} - {{title}}')"

# Control specific player
# bindl = SUPER SHIFT, F8, exec, playerctl -p spotify play-pause
# bindl = SUPER SHIFT, F9, exec, playerctl -p firefox play-pause

# ============================================================================
# AUDIO OUTPUT SWITCHING
# ============================================================================
# Switch between audio output devices (headphones, speakers, HDMI)
#   - Cycles through available audio sinks
#   - Useful for quick switching

# Switch Audio Output (SUPER + XF86AudioMute)
#   - Hold SUPER and press mute to cycle outputs
bindl = SUPER, XF86AudioMute, exec, ~/.config/hypr/bindings/media.sh switch_audio_output

# Alternative: Dedicated key for output switching
# bindl = SUPER, F10, exec, ~/.config/hypr/bindings/media.sh switch_audio_output

# ============================================================================
# AUDIO INPUT CONTROL (Microphone)
# ============================================================================

# Microphone volume up/down (if not using XF86AudioMicMute)
# bindel = SUPER SHIFT, F11, exec, $osdclient --input-volume lower
# bindel = SUPER SHIFT, F12, exec, $osdclient --input-volume raise

# Push-to-talk (unmute while held, mute when released)
# bindr = SUPER, m, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# ============================================================================
# EXTERNAL DISPLAY BRIGHTNESS (Apple Display, DDC/CI monitors)
# ============================================================================
# Some external monitors support brightness control via DDC/CI
#   - Requires ddcutil or similar tools
#   - Apple displays use special protocol

# Apple Display Brightness (if you have Apple XDR, Studio Display, etc.)
#   - Uses custom script for Apple display control
# bind = CTRL, F1, exec, ~/.config/hypr/bindings/media.sh apple_display_brightness -5000
# bind = CTRL, F2, exec, ~/.config/hypr/bindings/media.sh apple_display_brightness +5000
# bind = SHIFT CTRL, F2, exec, ~/.config/hypr/bindings/media.sh apple_display_brightness +60000

# DDC/CI Monitor Brightness (standard external monitors)
#   - Requires: ddcutil
#   - Find display with: ddcutil detect
# bindel = SUPER CTRL, XF86MonBrightnessUp, exec, ddcutil setvcp 10 + 10
# bindel = SUPER CTRL, XF86MonBrightnessDown, exec, ddcutil setvcp 10 - 10

# ============================================================================
# MEDIA SCRIPT FUNCTIONS
# ============================================================================
# Helper functions available in media.sh:
#
#   switch_audio_output     - Cycle through available audio sinks
#   get_focused_monitor     - Get name of currently focused monitor
#   apple_display_brightness - Control Apple external display brightness
#   get_current_volume      - Get current volume percentage
#   get_current_brightness  - Get current brightness percentage
#
# Usage: ~/.config/hypr/bindings/media.sh function_name [args]

# ============================================================================
# QUICK REFERENCE
# ============================================================================
# Volume:
#   XF86AudioRaiseVolume     → Volume up (5%)
#   XF86AudioLowerVolume     → Volume down (5%)
#   XF86AudioMute            → Mute toggle
#   ALT + Volume keys        → Fine control (1%)
#
# Brightness:
#   XF86MonBrightnessUp      → Brightness up (5%)
#   XF86MonBrightnessDown    → Brightness down (5%)
#   ALT + Brightness keys    → Fine control (1%)
#
# Media:
#   XF86AudioPlay/Pause      → Play/pause
#   XF86AudioNext            → Next track
#   XF86AudioPrev            → Previous track
#   SUPER + XF86AudioMute    → Switch audio output
#
# Note: All controls work when screen is locked for convenience

