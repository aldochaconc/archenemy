#
# Tiling & Window Management Bindings
# https://wiki.hyprland.org/Configuring/Binds/
#
# Workspace switching, window states, groups, scratchpad, and tiling controls.
#

# ============================================================================
# WORKSPACE TYPES
# ============================================================================
# Hyprland supports several workspace addressing modes:
#
#   Numbered:     1, 2, 3, ... 9 (standard workspaces)
#   Relative:     e+1, e-1 (next/previous)
#   Previous:     previous (last visited workspace)
#   Special:      special:name (scratchpad-like named workspaces)
#   Monitor:      m+1, m-1 (next/previous monitor)
#   Empty:        empty (first empty workspace)
#
# Examples:
#   workspace, 1          - Go to workspace 1
#   workspace, e+1        - Go to next workspace
#   workspace, previous   - Go to last visited workspace
#   workspace, empty      - Go to first empty workspace

# ============================================================================
# WORKSPACE SWITCHING (SUPER + 1-9)
# ============================================================================
# Switch to workspace by number
#   - SUPER + 1-9: Jump to specific workspace
#   - Uses keycodes for reliability across layouts
#   - code:10 = 1, code:11 = 2, ... code:18 = 9

bind = SUPER, code:10, workspace, 1
bind = SUPER, code:11, workspace, 2
bind = SUPER, code:12, workspace, 3
bind = SUPER, code:13, workspace, 4
bind = SUPER, code:14, workspace, 5
bind = SUPER, code:15, workspace, 6
bind = SUPER, code:16, workspace, 7
bind = SUPER, code:17, workspace, 8
bind = SUPER, code:18, workspace, 9

# Alternative: Use actual number keys (may vary by layout)
# bind = SUPER, 1, workspace, 1
# bind = SUPER, 2, workspace, 2
# ... etc

# Workspace 10 (optional, using 0 key)
# bind = SUPER, code:19, workspace, 10

# ============================================================================
# MOVE WINDOW TO WORKSPACE (SUPER + SHIFT + 1-9)
# ============================================================================
# Move active window to specific workspace and follow it
#   - SUPER + SHIFT + 1-9: Move window and switch to that workspace
#   - Window moves and you follow

bind = SUPER SHIFT, code:10, movetoworkspace, 1
bind = SUPER SHIFT, code:11, movetoworkspace, 2
bind = SUPER SHIFT, code:12, movetoworkspace, 3
bind = SUPER SHIFT, code:13, movetoworkspace, 4
bind = SUPER SHIFT, code:14, movetoworkspace, 5
bind = SUPER SHIFT, code:15, movetoworkspace, 6
bind = SUPER SHIFT, code:16, movetoworkspace, 7
bind = SUPER SHIFT, code:17, movetoworkspace, 8
bind = SUPER SHIFT, code:18, movetoworkspace, 9

# Alternative: Move silently (don't follow)
#   - SUPER + ALT + 1-9: Move window but stay on current workspace
# bind = SUPER ALT, code:10, movetoworkspacesilent, 1
# bind = SUPER ALT, code:11, movetoworkspacesilent, 2
# ... etc

# ============================================================================
# WORKSPACE NAVIGATION (TAB CYCLING)
# ============================================================================
# Cycle through workspaces sequentially

# Next workspace (SUPER + TAB)
#   - Like browser tab switching or vim gt
bind = SUPER, TAB, workspace, e+1

# Previous workspace (SUPER + SHIFT + TAB)
#   - Like Shift+Tab in browsers or vim gT
bind = SUPER SHIFT, TAB, workspace, e-1

# Toggle to previous workspace (SUPER + CTRL + TAB)
#   - Like Alt+Tab but for workspaces
#   - Jump between current and last workspace
bind = SUPER CTRL, TAB, workspace, previous

# First empty workspace (quick way to open new workspace)
# bind = SUPER, n, workspace, empty

# ============================================================================
# WINDOW STATES
# ============================================================================

# Toggle Floating (SUPER + v)
#   - Already defined in vim-nav.conf
#   - Commented here for reference
# bind = SUPER, v, togglefloating,

# Fullscreen Modes
#   - Mode 0: Real fullscreen (no gaps, no bar, takes whole screen)
#   - Mode 1: Maximize (keeps gaps and bar visible)
#   - Mode 2: Fullscreen current monitor only (multi-monitor)

# Real fullscreen (SUPER + m)
#   - Defined in vim-nav.conf as SUPER + m
# bind = SUPER, m, fullscreen, 0

# Alternative fullscreen bindings
bind = SUPER, x, fullscreen, 0              # Real fullscreen (vim-like)
bind = SUPER ALT, x, fullscreen, 1          # Maximize (keep bar)
bind = SUPER CTRL, x, fullscreenstate, 0 2  # Tiled fullscreen (no gaps, keep tiling)

# Fake fullscreen (window thinks it's fullscreen but isn't)
# bind = SUPER SHIFT, x, fakefullscreen,

# ============================================================================
# SCRATCHPAD (Special Workspace)
# ============================================================================
# Scratchpad is a special hidden workspace for temporary windows
#   - Like a dropdown terminal or quick access notes
#   - Toggle visibility with one key

# Toggle scratchpad visibility (SUPER + s)
#   - Shows/hides the scratchpad workspace
#   - "s" for scratchpad or "scratch"
bind = SUPER, s, togglespecialworkspace, scratchpad

# Move window to scratchpad (SUPER + ALT + s)
#   - Sends active window to scratchpad without switching view
#   - Silent move keeps you on current workspace
bind = SUPER ALT, s, movetoworkspacesilent, special:scratchpad

# Alternative: Move to scratchpad and open it
# bind = SUPER SHIFT, s, movetoworkspace, special:scratchpad

# Additional named special workspaces (optional)
#   - Create multiple scratchpads for different purposes
# bind = SUPER, grave, togglespecialworkspace, term      # Dropdown terminal
# bind = SUPER, apostrophe, togglespecialworkspace, music # Music player
# bind = SUPER, backslash, togglespecialworkspace, notes  # Quick notes

# ============================================================================
# WINDOW GROUPING (Tabbed Layout)
# ============================================================================
# Groups allow tabbed-style layouts with multiple windows in one space
#   - Like browser tabs or tmux windows
#   - Navigate between grouped windows without changing focus direction

# Toggle Group (SUPER + g)
#   - Creates or destroys a group
#   - "g" for group
bind = SUPER, g, togglegroup,

# Move window out of group (SUPER + ALT + g)
#   - Removes active window from its group
bind = SUPER ALT, g, moveoutofgroup,

# Join Groups (SUPER + ALT + hjkl/arrows)
#   - Merges active window into adjacent group
#   - Direction indicates which group to join

# Join with hjkl (vim primary)
bind = SUPER ALT, h, moveintogroup, l
bind = SUPER ALT, j, moveintogroup, d
bind = SUPER ALT, k, moveintogroup, u
bind = SUPER ALT, l, moveintogroup, r

# Join with arrows (fallback)
bind = SUPER ALT, LEFT, moveintogroup, l
bind = SUPER ALT, DOWN, moveintogroup, d
bind = SUPER ALT, UP, moveintogroup, u
bind = SUPER ALT, RIGHT, moveintogroup, r

# Navigate Grouped Windows (SUPER + ALT + TAB)
#   - Cycle through windows within a group
#   - Like Ctrl+Tab in browsers
bind = SUPER ALT, TAB, changegroupactive, f         # Forward
bind = SUPER ALT SHIFT, TAB, changegroupactive, b   # Backward

# Navigate with mouse scroll (SUPER + ALT + scroll)
#   - Scroll through grouped windows
bind = SUPER ALT, mouse_down, changegroupactive, f
bind = SUPER ALT, mouse_up, changegroupactive, b

# Jump to specific window in group (SUPER + ALT + 1-5)
#   - Direct access to Nth window in group
bind = SUPER ALT, 1, changegroupactive, 1
bind = SUPER ALT, 2, changegroupactive, 2
bind = SUPER ALT, 3, changegroupactive, 3
bind = SUPER ALT, 4, changegroupactive, 4
bind = SUPER ALT, 5, changegroupactive, 5

# Lock group (prevent accidental changes)
# bind = SUPER CTRL, g, lockgroups, toggle

# ============================================================================
# WINDOW CYCLING (ALT + TAB)
# ============================================================================
# Cycle through windows on current workspace
#   - Like traditional Alt+Tab application switching
#   - Different from workspace switching

# Next window (ALT + TAB)
bind = ALT, TAB, cyclenext,
bind = ALT, TAB, bringactivetotop,  # Ensure window is on top

# Previous window (ALT + SHIFT + TAB)
bind = ALT SHIFT, TAB, cyclenext, prev
bind = ALT SHIFT, TAB, bringactivetotop,

# Alternative: Cycle with SUPER + bracket keys
# bind = SUPER, bracketright, cyclenext,       # ]
# bind = SUPER, bracketleft, cyclenext, prev   # [

# ============================================================================
# WINDOW RESIZING WITH KEYS
# ============================================================================
# Note: Basic resizing is in vim-nav.conf with SUPER + CTRL + hjkl
# These are additional resize bindings for specific use cases

# Resize with minus/equal keys (SUPER + -/=)
#   - Quick horizontal resizing
#   - keycode 20 = minus, keycode 21 = equal
bind = SUPER, code:20, resizeactive, -100 0
bind = SUPER, code:21, resizeactive, 100 0

# Resize with SHIFT (vertical)
bind = SUPER SHIFT, code:20, resizeactive, 0 -100
bind = SUPER SHIFT, code:21, resizeactive, 0 100

# Reset to default size
# bind = SUPER CTRL, 0, resizeactive, exact 50% 50%

# ============================================================================
# MOUSE WORKSPACE SWITCHING
# ============================================================================
# Scroll through workspaces while holding SUPER
#   - Natural workspace navigation with mouse
#   - Scroll up = previous, scroll down = next

bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1

# Alternative: Scroll through on specific monitor
# bind = SUPER CTRL, mouse_down, workspace, m+1
# bind = SUPER CTRL, mouse_up, workspace, m-1

# ============================================================================
# MOUSE WINDOW MANAGEMENT
# ============================================================================
# Move and resize windows with mouse
#   - SUPER + LMB: Move window (drag)
#   - SUPER + RMB: Resize window (drag)

# Move window (SUPER + Left Click)
bindm = SUPER, mouse:272, movewindow

# Resize window (SUPER + Right Click)
bindm = SUPER, mouse:273, resizewindow

# Alternative: Middle click for something else
# bindm = SUPER, mouse:274, resizewindow

# ============================================================================
# WINDOW PINNING & SPECIAL STATES
# ============================================================================

# Pin window (show on all workspaces)
#   - SUPER + p: Pin/unpin window
#   - Pinned windows follow you across workspaces
#   - Already defined in vim-nav.conf
# bind = SUPER, p, pin,

# Center window (for floating windows)
#   - Already defined in vim-nav.conf as SUPER + z
# bind = SUPER, z, centerwindow,

# Keep window above others
# bind = SUPER SHIFT, p, pseudo,

# ============================================================================
# MONITOR MANAGEMENT
# ============================================================================
# Move focus between monitors

# Focus next/previous monitor
# bind = SUPER, period, focusmonitor, +1      # .
# bind = SUPER, comma, focusmonitor, -1       # ,

# Move window to next/previous monitor
# bind = SUPER SHIFT, period, movewindow, mon:+1
# bind = SUPER SHIFT, comma, movewindow, mon:-1

# Move workspace to next/previous monitor
# bind = SUPER CTRL, period, movecurrentworkspacetomonitor, +1
# bind = SUPER CTRL, comma, movecurrentworkspacetomonitor, -1

# ============================================================================
# LAYOUT SPECIFIC
# ============================================================================

# Toggle split direction (dwindle layout)
#   - Already defined in vim-nav.conf as SUPER + t
# bind = SUPER, t, togglesplit,

# Pseudo-tile (float-like tiling)
#   - Window floats but respects tiling positions
# bind = SUPER SHIFT, p, pseudo,

# Master layout specific
#   - Switch between master and stack
# bind = SUPER, return, layoutmsg, swapwithmaster
# bind = SUPER CTRL, return, layoutmsg, focusmaster

# Cycle layout algorithm
# bind = SUPER SHIFT, l, exec, hyprctl keyword general:layout $( [[ $(hyprctl getoption general:layout | grep -oP 'str: \K.*') == "dwindle" ]] && echo "master" || echo "dwindle" )

# ============================================================================
# WORKSPACE MANAGEMENT
# ============================================================================

# Create new workspace
# bind = SUPER, n, workspace, empty

# Move to new empty workspace with window
# bind = SUPER SHIFT, n, movetoworkspace, empty

# Close all windows on workspace (careful!)
# bind = SUPER SHIFT CTRL, q, exec, hyprctl clients -j | jq -r '.[] | select(.workspace.id == '$(hyprctl activeworkspace -j | jq '.id')') | .address' | xargs -I {} hyprctl dispatch closewindow address:{}

# ============================================================================
# QUICK REFERENCE
# ============================================================================
# Workspace Quick Reference:
#   SUPER + 1-9         → Switch to workspace
#   SUPER + SHIFT + 1-9 → Move window to workspace
#   SUPER + TAB         → Next workspace
#   SUPER + SHIFT + TAB → Previous workspace
#   SUPER + CTRL + TAB  → Last workspace
#
# Window States:
#   SUPER + v           → Toggle floating
#   SUPER + x           → Fullscreen
#   SUPER + w/q         → Close window
#   SUPER + p           → Pin across workspaces
#   SUPER + z           → Center window
#
# Groups (Tabbed):
#   SUPER + g           → Toggle group
#   SUPER + ALT + hjkl  → Join adjacent group
#   SUPER + ALT + TAB   → Cycle grouped windows
#   SUPER + ALT + 1-5   → Jump to Nth window in group
#
# Scratchpad:
#   SUPER + s           → Toggle scratchpad
#   SUPER + ALT + s     → Move to scratchpad
#
# Cycling:
#   ALT + TAB           → Next window
#   ALT + SHIFT + TAB   → Previous window
#   SUPER + o           → Other split

