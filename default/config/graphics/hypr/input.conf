#
# Input Configuration
# https://wiki.hyprland.org/Configuring/Variables/#input
#
# Configure keyboard, mouse, touchpad, and gesture behavior.
#

# ============================================================================
# KEYBOARD CONFIGURATION
# ============================================================================
input {
  # Keyboard Layout
  #   - kb_layout: Layout identifier(s)
  #     Single: "us", "uk", "de", "fr", "es", "jp", etc.
  #     Multiple: "us,es,de" (switch with kb_options grp:*)
  #   - kb_variant: Layout variant (empty for default)
  #     Examples: "dvorak", "colemak", "intl", "nodeadkeys"
  kb_layout = us
  kb_variant =
  kb_model =
  
  # Keyboard Options (XKB options, comma-separated)
  #   - compose:caps: Use Caps Lock as compose key (for accents: Caps+e+' = Ã©)
  #   - compose:ralt: Use Right Alt as compose key
  #   - compose:menu: Use Menu key as compose key
  #   - ctrl:nocaps: Make Caps Lock another Ctrl
  #   - grp:alt_shift_toggle: Alt+Shift switches layouts
  #   - grp:win_space_toggle: Super+Space switches layouts
  kb_options = compose:caps
  kb_rules =

  # Key Repeat Settings
  #   - repeat_rate: Characters per second when key is held (1-100)
  #     Low (25): Slow repeat, careful typing
  #     Medium (40): Balanced, comfortable
  #     High (60): Fast repeat, power users
  #   - repeat_delay: Milliseconds before repeat starts (200-1000)
  #     Short (200): Immediate repeat, can be jarring
  #     Medium (600): Natural delay, recommended
  #     Long (1000): Deliberate, prevents accidental repeats
  repeat_rate = 40
  repeat_delay = 600

  # Numlock on Startup
  #   - true: Numpad produces numbers on login
  #   - false: Numpad starts in arrow key mode
  numlock_by_default = true

  # =========================================================================
  # MOUSE CONFIGURATION
  # =========================================================================
  # Mouse follows focus
  #   - 0: Disabled (cursor doesn't move when focusing windows)
  #   - 1: Enabled (cursor warps to newly focused windows)
  #   - 2: Only when switching with keyboard (vim-style workflow friendly)
  follow_mouse = 1

  # Mouse Sensitivity
  #   - Range: -1.0 to 1.0
  #   - -1.0: Slowest (precise work, high DPI mice)
  #   - 0: No modification (use hardware DPI)
  #   - 1.0: Fastest (low DPI mice, large screens)
  sensitivity = 0

  # Acceleration Profile
  #   - accel_profile: "adaptive" or "flat"
  #     adaptive: Speed varies with movement speed (default, natural feel)
  #     flat: Constant speed (preferred for gaming, precision work)
  # accel_profile = adaptive

  # =========================================================================
  # TOUCHPAD CONFIGURATION
  # =========================================================================
  touchpad {
    # Natural Scrolling (inverted, like smartphones)
    #   - true: Swipe up = content moves up (macOS/iOS style)
    #   - false: Swipe up = content moves down (traditional)
    natural_scroll = false

    # Tap to Click
    #   - true: Single finger tap = left click
    #   - false: Must physically press trackpad to click
    tap-to-click = true

    # Drag Lock (tap twice and drag)
    #   - true: Double tap and hold to drag without keeping finger down
    #   - false: Must keep finger on trackpad while dragging
    tap-and-drag = true

    # Click Method
    #   - clickfinger_behavior: true = 2-finger tap = right click, 3-finger = middle
    #   - clickfinger_behavior: false = bottom-right corner = right click
    # clickfinger_behavior = false

    # Scroll Factor (speed multiplier)
    #   - Range: 0.1 to 2.0
    #   - Low (0.3): Precise, slow scrolling
    #   - Medium (0.4-0.6): Balanced scrolling
    #   - High (1.0+): Fast, momentum-style scrolling
    scroll_factor = 0.4

    # Disable While Typing
    #   - true: Touchpad ignores input while typing (prevents palm touches)
    #   - false: Touchpad always active
    # disable_while_typing = true

    # Middle Button Emulation
    #   - true: Click left+right simultaneously = middle click
    #   - false: No emulation
    # middle_button_emulation = false
  }
}

# ============================================================================
# PER-APP SCROLL SPEED ADJUSTMENTS
# ============================================================================
# Touchpad scroll speed multipliers for specific applications
#   - Syntax: windowrule = scrolltouchpad FACTOR, class:APP
#   - Higher factor = faster scrolling in that app
#
# Terminals often need faster scrolling for long outputs:
windowrule = scrolltouchpad 1.5, class:(Alacritty|kitty)

# Ghostty benefits from slower, more controlled scrolling:
windowrule = scrolltouchpad 0.2, class:com.mitchellh.ghostty

# Browsers (if you want different speed than system default):
# windowrule = scrolltouchpad 0.8, class:(firefox|chromium|brave)

# Code editors with lots of vertical content:
# windowrule = scrolltouchpad 1.2, class:(code|cursor)

# ============================================================================
# GESTURE CONFIGURATION
# ============================================================================
# Touchpad gestures for workspace navigation
#   - Uncomment to enable swipe gestures
#
gestures {
  # Workspace Swipe
  #   - enabled: 3-finger horizontal swipe changes workspaces
  workspace_swipe = true
  workspace_swipe_fingers = 3

  # Swipe Distance (how far to swipe before switching)
  #   - Range: 100-500 pixels
  #   - Lower: Switch workspaces easily (can be accidental)
  #   - Higher: Need deliberate swipe (more control)
#   workspace_swipe_distance = 300

  # Swipe Cancel Ratio (how far back to swipe to cancel)
  #   - Range: 0.0-1.0
  #   - 0.3: Can cancel by swiping 30% back
#   workspace_swipe_cancel_ratio = 0.3

  # Swipe Forever (continue beyond last workspace)
  #   - true: Wrap around to first workspace
  #   - false: Stop at last workspace
  workspace_swipe_forever = false
}

# Alternative: 3-finger horizontal swipe for workspaces
# gesture = 3, horizontal, workspace, e+1   # Swipe left = next workspace
# gesture = 3, horizontal, workspace, e-1   # Swipe right = prev workspace

# ============================================================================
# MULTIPLE KEYBOARD LAYOUTS
# ============================================================================
# Example: Switch between US, Spanish, and German
#   1. Set layouts: kb_layout = us,es,de
#   2. Set switch key: kb_options = compose:caps,grp:alt_shift_toggle
#   3. Press Alt+Shift to cycle through layouts
#   4. Current layout shows in waybar (if configured)
#
# Common layout switch options:
#   - grp:alt_shift_toggle: Alt+Shift
#   - grp:win_space_toggle: Super+Space
#   - grp:caps_toggle: Caps Lock toggles (careful, you lose caps!)
#   - grp:ctrl_shift_toggle: Ctrl+Shift
#
# input {
#   kb_layout = us,es,de
#   kb_options = compose:caps,grp:alt_shift_toggle
# }

