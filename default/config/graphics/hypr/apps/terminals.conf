#
# Terminal Emulator Window Rules
# https://wiki.hyprland.org/Configuring/Window-Rules/
#
# Configuration for terminal emulators: kitty, Alacritty, Ghostty, foot, wezterm, etc.
#

# ============================================================================
# TERMINAL CLASSIFICATION
# ============================================================================
# Tag all terminal emulators for unified styling
#   - Allows applying consistent rules across different terminals
#   - Useful for opacity, scroll speed, and other shared behaviors

windowrule = tag +terminal, class:(Alacritty|kitty|com.mitchellh.ghostty|foot|org.wezfurlong.wezterm|kitty-floating|Alacritty-floating)

# ============================================================================
# SCROLL SPEED ADJUSTMENTS
# ============================================================================
# Terminals often need faster touchpad scrolling due to long output
#   - Default system scroll is too slow for terminal use
#   - Adjust scroll_factor per terminal based on comfort
#   - Higher values = faster scrolling

# kitty: Fast scrolling (1.5x system speed)
#   - Good for scrolling through long logs, command output
windowrule = scrolltouchpad 1.5, class:(kitty)

# Alacritty: Fast scrolling (1.5x system speed)
windowrule = scrolltouchpad 1.5, class:(Alacritty)

# Ghostty: Slower, more controlled scrolling (0.2x system speed)
#   - Ghostty has different scroll behavior
#   - Lower value prevents "jumpy" scrolling
windowrule = scrolltouchpad 0.2, class:com.mitchellh.ghostty

# foot: Standard scrolling (1.0x = system default)
# windowrule = scrolltouchpad 1.0, class:(foot)

# wezterm: Fast scrolling
# windowrule = scrolltouchpad 1.5, class:(org.wezfurlong.wezterm)

# ============================================================================
# OPACITY SETTINGS
# ============================================================================
# Terminal transparency for modern aesthetic
#   - Background image/wallpaper shows through
#   - Can affect readability - adjust per preference

# Subtle transparency for all terminals (optional)
#   - First value: Active window opacity
#   - Second value: Inactive window opacity
# windowrule = opacity 0.95 0.90, tag:terminal

# Per-terminal opacity (if you want different levels)
# windowrule = opacity 0.95 0.90, class:(kitty)
# windowrule = opacity 0.98 0.93, class:(Alacritty)
# windowrule = opacity 1.0 1.0, class:com.mitchellh.ghostty  # Fully opaque

# ============================================================================
# FLOATING TERMINAL VARIANTS
# ============================================================================
# Terminals launched with special class for floating mode
#   - Useful for quick commands, temporary tasks
#   - Launched with: kitty --class floating-terminal

# Floating kitty
windowrulev2 = float, class:(kitty-floating)
windowrulev2 = size 60% 60%, class:(kitty-floating)
windowrulev2 = center, class:(kitty-floating)

# Floating Alacritty
windowrulev2 = float, class:(Alacritty-floating)
windowrulev2 = size 60% 60%, class:(Alacritty-floating)
windowrulev2 = center, class:(Alacritty-floating)

# Floating foot
windowrulev2 = float, class:(foot-floating)
windowrulev2 = size 60% 60%, class:(foot-floating)
windowrulev2 = center, class:(foot-floating)

# Generic floating terminal class (if app doesn't specify)
windowrulev2 = float, class:(terminal-float|TUI.float)
windowrulev2 = size 60% 60%, class:(terminal-float|TUI.float)
windowrulev2 = center, class:(terminal-float|TUI.float)

# ============================================================================
# TERMINAL TUI APPLICATIONS
# ============================================================================
# Terminal-based UI applications may need special handling

# btop/htop (system monitor)
#   - Launched with: terminal -e btop
#   - Keep tiled by default, but can float for quick glances
# windowrulev2 = float, class:(kitty), title:(btop)
# windowrulev2 = size 70% 70%, class:(kitty), title:(btop)

# lazygit (git TUI)
#   - Git interface needs good screen space
# windowrulev2 = size 80% 80%, class:(kitty), title:(lazygit)

# lazydocker (docker TUI)
# windowrulev2 = size 80% 80%, class:(kitty), title:(lazydocker)

# ranger/lf (file managers)
#   - Terminal file managers
# windowrulev2 = float, class:(kitty), title:(ranger|lf)
# windowrulev2 = size 70% 70%, class:(kitty), title:(ranger|lf)

# nvim/vim (text editors)
#   - Usually want maximum screen space (keep tiled)
# windowrulev2 = tile, class:(kitty), title:(nvim|vim)

# ============================================================================
# TERMINAL MULTIPLEXERS
# ============================================================================
# tmux, screen, zellij sessions

# tmux sessions
#   - Usually want full terminal space
# windowrulev2 = tile, class:(kitty), title:(tmux)

# zellij sessions
# windowrulev2 = tile, class:(kitty), title:(zellij)

# ============================================================================
# TERMINAL-SPECIFIC FEATURES
# ============================================================================

# kitty: Window swallowing
#   - When you launch GUI apps from kitty, hide the terminal
#   - Example: `mpv video.mp4` hides kitty until mpv closes
#   - Enabled globally in looknfeel.conf with misc { enable_swallow = true }
#   - swallow_regex defined there matches terminal classes
#   - No per-app rule needed, just documenting behavior

# kitty: Hyperlinks support
#   - kitty renders clickable URLs and file paths
#   - No Hyprland config needed, works automatically

# Alacritty: Hints mode
#   - Alacritty has built-in URL hint mode (Ctrl+Shift+U)
#   - No Hyprland config needed

# ============================================================================
# IDLE INHIBIT (Prevent Sleep)
# ============================================================================
# Prevent screen from sleeping when terminal is focused
#   - Useful for long-running commands
#   - Prevents interruption during downloads, builds, etc.

# Inhibit idle when terminal is focused (optional)
#   - Only active when terminal window has focus
# windowrule = idleinhibit focus, tag:terminal

# Inhibit idle for specific terminal apps (more selective)
#   - Only prevent sleep for specific long-running commands
# windowrulev2 = idleinhibit focus, class:(kitty), title:(.*rsync.*|.*download.*|.*build.*)

# ============================================================================
# ANIMATION OVERRIDES (Optional)
# ============================================================================
# Terminals can benefit from snappier animations

# Faster window spawning for terminals (feels more responsive)
# windowrule = animation slide, tag:terminal

# No animation for floating terminals (instant appearance)
# windowrule = noanim, class:(kitty-floating|Alacritty-floating)

# ============================================================================
# WORKSPACE ASSIGNMENT (Optional)
# ============================================================================
# Send terminals to specific workspace by default

# All terminals to workspace 1 (uncomment if desired)
# windowrule = workspace 1, tag:terminal

# Specific terminal uses
#   - Primary terminal: workspace 1
#   - System monitoring: workspace 9
# windowrulev2 = workspace 1, class:(kitty), title:(^(?!btop|htop))
# windowrulev2 = workspace 9, class:(kitty), title:(btop|htop)

# ============================================================================
# TERMINAL BLUR (Optional)
# ============================================================================
# Enable blur behind transparent terminals
#   - Requires terminal transparency + blur enabled in looknfeel.conf
#   - Creates frosted glass effect

# Enable blur for terminals (if using transparency)
# windowrule = blur, tag:terminal

# ============================================================================
# TERMINAL-SPECIFIC QUIRKS
# ============================================================================

# kitty: Multiple windows
#   - kitty can spawn multiple OS windows (--single-instance=no)
#   - Each window is independent, no special handling needed

# Alacritty: Config reload
#   - Alacritty reloads config on save automatically
#   - No Hyprland interaction needed

# Ghostty: Native Wayland
#   - Ghostty is Wayland-native, no XWayland compatibility issues
#   - Scrolling behavior differs (hence different scroll_factor)

# foot: Lightweight
#   - foot is minimal, fast terminal
#   - May want to adjust opacity for readability

# wezterm: GPU-accelerated
#   - wezterm uses GPU rendering
#   - Generally doesn't need special Hyprland rules

# ============================================================================
# HOW TO FIND TERMINAL CLASS & TITLE
# ============================================================================
# Method 1: Launch terminal and check
#   hyprctl activewindow | grep -E "(class|title)"
#
# Method 2: List all terminals
#   hyprctl clients | grep -A 5 "class: .*kitty.*"
#
# Common terminal classes:
#   - kitty: "kitty"
#   - Alacritty: "Alacritty"
#   - Ghostty: "com.mitchellh.ghostty"
#   - foot: "foot"
#   - wezterm: "org.wezfurlong.wezterm"
#   - GNOME Terminal: "org.gnome.Terminal"
#   - Konsole: "org.kde.konsole"
#   - xterm: "xterm"
#   - urxvt: "URxvt"

# ============================================================================
# NOTES
# ============================================================================
# Scroll speed values are multipliers:
#   - 0.5 = half speed (slow, precise)
#   - 1.0 = system default
#   - 1.5 = 50% faster (good for terminals)
#   - 2.0 = double speed (very fast)
#
# Window swallowing (enable_swallow in misc) hides terminal when launching:
#   - GUI apps: mpv, firefox, etc.
#   - Not hidden: terminal multiplexers, other terminals, TUI apps
#
# Terminal transparency:
#   - Configured in terminal's own config file
#   - Hyprland can add additional opacity layer
#   - Combined effect: terminal opacity Ã— Hyprland opacity

